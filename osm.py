# This is how we access the nominatim api: https://nominatim.org/release-docs/develop/api/Search/

import requests
from pyqgis_scripting_ext.core import*

placeName = "Nydalasjon"

urlString = "https://nominatim.openstreetmap.org/search?"

urlString += f"q={placeName}" #q for query
urlString += "&format=geojson"
urlString += "&polygon_geojson=1"
urlString += "&limit=1"

print(urlString)

data = {'type': 'FeatureCollection', 'licence': 'Data © OpenStreetMap contributors, ODbL 1.0. http://osm.org/copyright', 'features': [{'type': 'Feature', 'properties': {'place_id': 148993584, 'osm_type': 'relation', 'osm_id': 1995637, 'place_rank': 22, 'category': 'natural', 'type': 'water', 'importance': 0.2208608703737879, 'addresstype': 'water', 'name': 'Nydalasjön', 'display_name': 'Nydalasjön, Nydala, Umeå, Umeå kommun, Västerbottens län, Sverige'}, 'bbox': [20.332529, 63.8069217, 20.3583163, 63.8362741], 'geometry': {'type': 'Polygon', 'coordinates': [[[20.332529, 63.8284073], [20.332569, 63.8279749], [20.332557, 63.8277713], [20.3326914, 63.8272934], [20.3331339, 63.8271001], [20.3333061, 63.8270219], [20.3334047, 63.8267899], [20.3333364, 63.8262861], [20.333313, 63.8257785], [20.3332513, 63.8255238], [20.3329959, 63.8246742], [20.3329868, 63.8245851], [20.3329971, 63.8244642], [20.3329539, 63.8242124], [20.3331443, 63.8237771], [20.3331387, 63.8234431], [20.3329786, 63.8231425], [20.332827, 63.8226686], [20.3328605, 63.8225255], [20.3330059, 63.8224654], [20.3329968, 63.8222531], [20.3331012, 63.8222231], [20.3332374, 63.8222171], [20.3333759, 63.8221525], [20.3335417, 63.8219947], [20.3339185, 63.8218184], [20.3340094, 63.8216461], [20.3341651, 63.8216003], [20.3342743, 63.8214872], [20.3342483, 63.8213777], [20.3343858, 63.8209889], [20.3344793, 63.8209558], [20.3345245, 63.8209669], [20.3344868, 63.8212411], [20.3344526, 63.82149], [20.3344715, 63.8216735], [20.3345302, 63.8218132], [20.3345776, 63.8219259], [20.3347797, 63.8222057], [20.3347688, 63.8223183], [20.3347276, 63.8227362], [20.3346218, 63.8228949], [20.3344869, 63.8229515], [20.3344998, 63.823147], [20.3344958, 63.82345], [20.3344949, 63.8235175], [20.3344254, 63.823742], [20.3342943, 63.8239544], [20.3340064, 63.8241243], [20.3338715, 63.8241913], [20.3336457, 63.8242575], [20.3334402, 63.8243736], [20.3332638, 63.824497], [20.3331957, 63.8245591], [20.3331662, 63.8245761], [20.3333587, 63.8252351], [20.333613, 63.8255516], [20.3341125, 63.825864], [20.3344082, 63.8261063], [20.3345921, 63.826294], [20.3345926, 63.826424], [20.3344513, 63.8265628], [20.3344256, 63.8266562], [20.3343036, 63.8267242], [20.3342258, 63.8268789], [20.3342391, 63.8269723], [20.3342663, 63.8271646], [20.3342358, 63.8272566], [20.3341129, 63.8276276], [20.3340438, 63.8283341], [20.3341982, 63.8285868], [20.3345691, 63.8286817], [20.3345347, 63.8285447], [20.3345918, 63.8283725], [20.3347018, 63.8284144], [20.3347638, 63.8285458], [20.3349023, 63.8286082], [20.3350921, 63.8285278], [20.335235, 63.8284381], [20.3353904, 63.8285233], [20.3355568, 63.8285641], [20.3357806, 63.8284516], [20.3359265, 63.8282996], [20.3358639, 63.8281231], [20.3362169, 63.8280811], [20.3363523, 63.8280481], [20.3364134, 63.8278799], [20.3365584, 63.8278448], [20.3367166, 63.8278999], [20.33688, 63.8280984], [20.3373152, 63.8283976], [20.3375347, 63.8284362], [20.3376954, 63.8284477], [20.3377709, 63.8284182], [20.3379867, 63.8283009], [20.3380269, 63.8280812], [20.3379688, 63.8277342], [20.338203, 63.8273502], [20.3382711, 63.8271825], [20.3385298, 63.8271581], [20.3387473, 63.827176], [20.339064, 63.8272225], [20.3392316, 63.827373], [20.3392909, 63.8274792], [20.3392365, 63.82761], [20.3396383, 63.827683], [20.3398426, 63.8277076], [20.3399524, 63.8274475], [20.339899, 63.82714], [20.3400296, 63.8269348], [20.3400445, 63.8265961], [20.33969, 63.8259328], [20.3399482, 63.8251934], [20.3400854, 63.824745], [20.3401652, 63.8246451], [20.3400586, 63.8245844], [20.340072, 63.8243635], [20.3402441, 63.8241823], [20.3402678, 63.8239361], [20.3401096, 63.8236129], [20.3405029, 63.8225617], [20.3403769, 63.8222856], [20.3403294, 63.8220197], [20.3402491, 63.8218993], [20.3401626, 63.8217741], [20.3401602, 63.8216516], [20.3402355, 63.821531], [20.340295, 63.8214383], [20.3403075, 63.8212686], [20.3407189, 63.8208016], [20.3408566, 63.8203174], [20.3410028, 63.8201931], [20.3410742, 63.8198492], [20.3412364, 63.8196969], [20.3414811, 63.8195608], [20.3417572, 63.8196217], [20.3418868, 63.8195689], [20.3417294, 63.8194846], [20.3418209, 63.8194184], [20.3421878, 63.8194341], [20.3423664, 63.8193602], [20.3429967, 63.8189754], [20.3436724, 63.8187472], [20.3450457, 63.8175922], [20.3450626, 63.8167945], [20.3452934, 63.8159205], [20.3456079, 63.8157759], [20.3459034, 63.814847], [20.3458744, 63.8147933], [20.345857, 63.8147652], [20.3458628, 63.8147089], [20.3459005, 63.8146551], [20.3459737, 63.8145938], [20.3461217, 63.8144743], [20.3461916, 63.8143829], [20.3461893, 63.8143174], [20.3461916, 63.8142355], [20.34618, 63.8141905], [20.3462125, 63.8141536], [20.3462804, 63.8141402], [20.3463384, 63.8140939], [20.3463783, 63.8140027], [20.3464109, 63.8139419], [20.3463566, 63.8139227], [20.3463284, 63.8138752], [20.3463631, 63.8138352], [20.3463457, 63.8137356], [20.3463094, 63.8136861], [20.3462405, 63.8136543], [20.3462513, 63.8136124], [20.3462803, 63.813583], [20.3462832, 63.8135382], [20.3463383, 63.8133383], [20.3464456, 63.8130861], [20.3464663, 63.8130373], [20.3465272, 63.8128941], [20.3466794, 63.8128628], [20.3467555, 63.8128489], [20.3467611, 63.8128145], [20.3467035, 63.812794], [20.3466442, 63.8127727], [20.346672, 63.8127334], [20.3467536, 63.8127105], [20.3467963, 63.8126917], [20.3468115, 63.8126645], [20.3468297, 63.812627], [20.3468761, 63.8126057], [20.3469485, 63.8125909], [20.3470227, 63.8125803], [20.3470951, 63.8125639], [20.3471118, 63.812523], [20.3471077, 63.8124825], [20.347186, 63.8124108], [20.3472639, 63.8124075], [20.3473135, 63.8123968], [20.3473289, 63.8123707], [20.347302, 63.8122887], [20.347444, 63.8122125], [20.3475292, 63.8121981], [20.3475426, 63.8121959], [20.3476354, 63.8121447], [20.3477194, 63.8120782], [20.3477252, 63.8120603], [20.3478863, 63.8119754], [20.3479311, 63.8119029], [20.3479311, 63.8118082], [20.3480217, 63.8116446], [20.3480058, 63.8115724], [20.3479877, 63.811534], [20.3480348, 63.8115132], [20.3479913, 63.811462], [20.3479877, 63.8114188], [20.3480058, 63.8113788], [20.3480203, 63.8113309], [20.3479405, 63.8113037], [20.347926, 63.8111613], [20.3479768, 63.8111389], [20.3479366, 63.8110505], [20.3478927, 63.8110039], [20.3478997, 63.8109732], [20.3479321, 63.8109415], [20.347895, 63.8109108], [20.3478278, 63.8108975], [20.3477906, 63.8108207], [20.3477642, 63.8107919], [20.3477414, 63.8107544], [20.3477618, 63.8107213], [20.3477229, 63.810702], [20.3476932, 63.8106791], [20.3477172, 63.810661], [20.3476677, 63.8106068], [20.3476793, 63.8105505], [20.3477215, 63.8105227], [20.3476909, 63.8104686], [20.3477071, 63.8104225], [20.3477327, 63.8103949], [20.3478134, 63.8103891], [20.3478666, 63.8104033], [20.3479344, 63.8103918], [20.3479901, 63.810358], [20.3480226, 63.8103089], [20.3480736, 63.8102935], [20.3481054, 63.8102661], [20.3481525, 63.8101702], [20.3480872, 63.8101414], [20.3480918, 63.8100346], [20.3480968, 63.809975], [20.3481154, 63.8099185], [20.348158, 63.8098964], [20.3482044, 63.8098832], [20.3482211, 63.809857], [20.3481859, 63.8098071], [20.3481246, 63.8098071], [20.3481228, 63.8097571], [20.3481803, 63.8097448], [20.3481766, 63.8097186], [20.3481321, 63.8097088], [20.3481395, 63.8096367], [20.3481933, 63.8096155], [20.348262, 63.8095917], [20.3482415, 63.8095401], [20.3482063, 63.8095286], [20.3481729, 63.8095123], [20.3481692, 63.8094762], [20.3482097, 63.809458], [20.3483362, 63.8092191], [20.3483325, 63.8091675], [20.3483028, 63.809147], [20.3483158, 63.8091208], [20.3483863, 63.8091151], [20.348403, 63.8090979], [20.3483677, 63.8090504], [20.348338, 63.8090053], [20.3483376, 63.8089885], [20.3483366, 63.8089433], [20.3483911, 63.8085924], [20.3488164, 63.807771], [20.3488965, 63.8075633], [20.3488549, 63.8075417], [20.348825, 63.8075373], [20.3488006, 63.8075352], [20.3487293, 63.8075343], [20.3486953, 63.8075343], [20.3486299, 63.807536], [20.3485983, 63.8075313], [20.3485706, 63.8075281], [20.3485458, 63.8075223], [20.3485248, 63.8075107], [20.3485025, 63.8075006], [20.3484767, 63.8074946], [20.3484509, 63.8074851], [20.3484237, 63.8074823], [20.3484053, 63.8074758], [20.348405, 63.8074686], [20.3484144, 63.8074645], [20.3484368, 63.8074701], [20.3484553, 63.8074796], [20.3484786, 63.8074817], [20.3484888, 63.8074858], [20.3485054, 63.8074864], [20.3485273, 63.8074931], [20.3485453, 63.8074999], [20.3485521, 63.8075066], [20.3485691, 63.8075148], [20.3485883, 63.8075217], [20.3486175, 63.8075247], [20.3486472, 63.8075244], [20.3486679, 63.8075209], [20.3486813, 63.8075163], [20.3487026, 63.8075139], [20.3487208, 63.8075177], [20.348733, 63.8075193], [20.3487963, 63.8075212], [20.3488177, 63.8075214], [20.3488498, 63.807518], [20.3488846, 63.8075168], [20.3489217, 63.8075135], [20.3489321, 63.8075023], [20.3489143, 63.8074886], [20.3488935, 63.8074735], [20.348892, 63.8074539], [20.3488906, 63.8074329], [20.3489054, 63.8074047], [20.3491953, 63.8073593], [20.3494247, 63.8073264], [20.3494973, 63.8073334], [20.3495205, 63.8073651], [20.3496669, 63.8074019], [20.3497316, 63.8073866], [20.3497432, 63.8073621], [20.3498746, 63.8073636], [20.3498784, 63.8073259], [20.3499449, 63.8073087], [20.3500529, 63.807308], [20.3501389, 63.8072627], [20.3501824, 63.8072028], [20.3502337, 63.8072007], [20.3502737, 63.8071139], [20.3502262, 63.8070602], [20.3502767, 63.8070189], [20.3503924, 63.8070143], [20.3507057, 63.8070517], [20.3508021, 63.8070825], [20.3509684, 63.8070969], [20.3509788, 63.8070667], [20.3511343, 63.8070737], [20.3511618, 63.8069405], [20.3511995, 63.8069217], [20.3512496, 63.8069464], [20.3512563, 63.807055], [20.3512858, 63.8070687], [20.3513824, 63.8070604], [20.3515234, 63.8070241], [20.3518156, 63.807008], [20.3519557, 63.807019], [20.3520253, 63.8070271], [20.3520953, 63.8070402], [20.3522271, 63.8070896], [20.3523732, 63.8071264], [20.3525495, 63.8071776], [20.3527397, 63.8072176], [20.3529206, 63.8072493], [20.3530667, 63.8072708], [20.3532407, 63.8073189], [20.3533613, 63.8073537], [20.3534286, 63.8073722], [20.3534631, 63.80739], [20.3534726, 63.8074172], [20.3534634, 63.807453], [20.3534309, 63.8074817], [20.3533868, 63.8075114], [20.3533328, 63.8075199], [20.3533149, 63.8075339], [20.3533172, 63.8075544], [20.3533541, 63.8075791], [20.3533819, 63.8076098], [20.3533803, 63.8076405], [20.3533671, 63.8076661], [20.3534011, 63.8077014], [20.3534649, 63.80774], [20.3535183, 63.8077905], [20.3535436, 63.8078219], [20.3535436, 63.8078554], [20.353551, 63.8078816], [20.3535877, 63.8078975], [20.3536341, 63.8079111], [20.3536935, 63.8079104], [20.3537187, 63.8079261], [20.3537276, 63.8079589], [20.3537425, 63.8079936], [20.3537128, 63.8080251], [20.353692, 63.8080434], [20.3537024, 63.8080676], [20.3537351, 63.8080788], [20.3537677, 63.8080807], [20.3538078, 63.8080991], [20.3538315, 63.8081214], [20.3538306, 63.8081513], [20.3538699, 63.8081645], [20.3538864, 63.8081852], [20.3538605, 63.8081988], [20.3538648, 63.8082187], [20.3539034, 63.8082263], [20.3539356, 63.8082519], [20.353912, 63.8082804], [20.3538733, 63.8083059], [20.3538304, 63.8083315], [20.3538476, 63.8083562], [20.3538819, 63.8083657], [20.3538691, 63.8083941], [20.3538583, 63.8084244], [20.3538878, 63.8084418], [20.3539029, 63.8084637], [20.3539221, 63.8084903], [20.353907, 63.8085134], [20.3538947, 63.808528], [20.3538727, 63.8085437], [20.3538699, 63.8085583], [20.3539194, 63.8085735], [20.3539318, 63.8085856], [20.3539166, 63.8086044], [20.3539056, 63.808622], [20.3538754, 63.8086275], [20.3538562, 63.8086396], [20.353852, 63.808662], [20.353863, 63.8086851], [20.3538988, 63.8086984], [20.3539386, 63.8087063], [20.3539716, 63.8087239], [20.3539579, 63.8087439], [20.3539441, 63.808767], [20.3539373, 63.8087876], [20.3539621, 63.808803], [20.3539964, 63.8088259], [20.3540527, 63.8088447], [20.3540995, 63.8088501], [20.3541421, 63.808858], [20.3541572, 63.8088738], [20.3541737, 63.8088883], [20.3542067, 63.8088974], [20.3542273, 63.8089084], [20.3542081, 63.8089247], [20.3541902, 63.8089381], [20.3542053, 63.8089575], [20.3542252, 63.8089779], [20.3542699, 63.809], [20.3542996, 63.8090079], [20.3543098, 63.8090236], [20.3542988, 63.8090394], [20.3542727, 63.8090679], [20.3542424, 63.8090849], [20.3542108, 63.809108], [20.3542013, 63.8091551], [20.3542054, 63.8091788], [20.3541821, 63.8091928], [20.354156, 63.8092012], [20.3541505, 63.8092267], [20.3541216, 63.8092844], [20.3541106, 63.8093329], [20.3541243, 63.8093481], [20.354134, 63.8093657], [20.3541259, 63.8093804], [20.3541037, 63.8094002], [20.3540721, 63.8094227], [20.3540542, 63.8094403], [20.3540364, 63.8094573], [20.3540061, 63.8094603], [20.3539773, 63.8094694], [20.3539682, 63.809485], [20.3540006, 63.809501], [20.3540322, 63.8095192], [20.3540322, 63.8095525], [20.3540158, 63.8095962], [20.3540089, 63.8096271], [20.3540171, 63.8096563], [20.3540336, 63.8096684], [20.3540446, 63.8096866], [20.3540199, 63.8097109], [20.3540061, 63.8097643], [20.3539896, 63.8098298], [20.3539937, 63.8098472], [20.3540199, 63.8098595], [20.354035, 63.8098765], [20.3540446, 63.8099038], [20.3540625, 63.8099972], [20.3541317, 63.81009], [20.3541232, 63.8102412], [20.3540971, 63.8102825], [20.3540641, 63.8102995], [20.354082, 63.8103462], [20.3540614, 63.8104627], [20.3540572, 63.8104772], [20.3540545, 63.8105185], [20.354082, 63.8105561], [20.3540999, 63.8105937], [20.3541067, 63.8106289], [20.3540861, 63.8106653], [20.354049, 63.8106829], [20.3540119, 63.8107047], [20.3539968, 63.8107411], [20.3539956, 63.8107956], [20.3540669, 63.8108576], [20.3540655, 63.8108795], [20.3540366, 63.8108928], [20.3539926, 63.8109037], [20.3539583, 63.8109207], [20.3539569, 63.8109444], [20.3539404, 63.8109626], [20.3539555, 63.8109905], [20.3539761, 63.8110056], [20.3540078, 63.8110196], [20.3539926, 63.811039], [20.35395, 63.8110414], [20.353894, 63.8110436], [20.3538758, 63.8110505], [20.3538895, 63.8111088], [20.3539377, 63.811113], [20.3539899, 63.8111173], [20.3540174, 63.8111355], [20.3540133, 63.8111537], [20.3539748, 63.8111658], [20.3539514, 63.8111828], [20.353961, 63.8111992], [20.353994, 63.8112155], [20.3540325, 63.8112544], [20.3540366, 63.8112883], [20.3540847, 63.8113059], [20.354104, 63.8113369], [20.3541067, 63.811386], [20.354071, 63.811406], [20.354027, 63.8114151], [20.3540119, 63.8114364], [20.3539885, 63.8114594], [20.3539596, 63.8114685], [20.3539157, 63.8114734], [20.353873, 63.8114855], [20.3538538, 63.8115092], [20.3538566, 63.8115365], [20.3538772, 63.8115547], [20.3539129, 63.8115722], [20.3539459, 63.8115807], [20.3539693, 63.8115923], [20.3539623, 63.8116394], [20.3539541, 63.8116584], [20.3539265, 63.811688], [20.3539265, 63.8117461], [20.3538809, 63.8117947], [20.3538353, 63.8118634], [20.3538113, 63.8118827], [20.3538251, 63.8119058], [20.3538541, 63.8119214], [20.3538272, 63.8119783], [20.3538019, 63.8120319], [20.3537452, 63.8122979], [20.3537124, 63.812647], [20.3536591, 63.8127226], [20.3536233, 63.8127857], [20.353515, 63.8129496], [20.3533336, 63.8130719], [20.3531527, 63.8131152], [20.3529389, 63.813315], [20.352929, 63.8134678], [20.3528599, 63.8135371], [20.3527989, 63.8135741], [20.3527967, 63.8136002], [20.3528187, 63.8136202], [20.3528448, 63.8136548], [20.3528558, 63.8136833], [20.3528434, 63.8137082], [20.3528393, 63.8137591], [20.3528755, 63.8137954], [20.3528651, 63.8138256], [20.3528242, 63.8138428], [20.3527788, 63.8138689], [20.3527596, 63.8138974], [20.3527857, 63.813918], [20.3528191, 63.8139567], [20.3528325, 63.8140544], [20.3528023, 63.8141507], [20.3527452, 63.8142455], [20.3527097, 63.8143134], [20.3527294, 63.8143513], [20.3527184, 63.8144054], [20.3526886, 63.8144257], [20.3526984, 63.8144573], [20.3527336, 63.8144685], [20.3527279, 63.8144995], [20.3526942, 63.8145125], [20.3526858, 63.8145255], [20.3527167, 63.8145454], [20.3527184, 63.8145846], [20.3527091, 63.8147401], [20.3527077, 63.8147719], [20.352717, 63.8147954], [20.3527404, 63.8148061], [20.3527539, 63.814826], [20.3527611, 63.814851], [20.3527593, 63.8148682], [20.352755, 63.8148819], [20.3527304, 63.814892], [20.3527058, 63.814909], [20.3527005, 63.8149478], [20.3526865, 63.8149749], [20.3526759, 63.8150152], [20.3526742, 63.8150548], [20.3527005, 63.8150935], [20.3527339, 63.8151152], [20.3527422, 63.8151368], [20.3527341, 63.8151741], [20.3527242, 63.8151828], [20.3527239, 63.8151979], [20.3527262, 63.8152152], [20.3527233, 63.8152376], [20.3527062, 63.8152424], [20.3526891, 63.8152515], [20.3526873, 63.815265], [20.3527053, 63.8152765], [20.3527263, 63.8152837], [20.3527353, 63.8152964], [20.3527245, 63.8153087], [20.3527002, 63.8153218], [20.3526768, 63.8153338], [20.3526759, 63.8153488], [20.3526912, 63.8153584], [20.3527182, 63.8153651], [20.3527308, 63.8153774], [20.3527335, 63.8153917], [20.3527254, 63.8154096], [20.3527155, 63.815427], [20.3527181, 63.8154502], [20.3526601, 63.8154711], [20.352635, 63.8155036], [20.35265, 63.8155205], [20.3526809, 63.8155428], [20.3527034, 63.8155751], [20.3527371, 63.8155856], [20.35277, 63.8156042], [20.3528071, 63.8156286], [20.3528161, 63.8156534], [20.3528285, 63.8156777], [20.3528386, 63.8157025], [20.3528206, 63.8157198], [20.3527801, 63.8157387], [20.352743, 63.8157521], [20.3526899, 63.8157624], [20.3525024, 63.8157824], [20.3524687, 63.8157898], [20.3525046, 63.8157898], [20.3526744, 63.8157834], [20.3527003, 63.8157844], [20.3527498, 63.8157963], [20.352797, 63.8158206], [20.3528296, 63.8158508], [20.352851, 63.8158905], [20.3528566, 63.8159248], [20.3528397, 63.815962], [20.3527959, 63.8160177], [20.3527667, 63.816043], [20.3527577, 63.8160688], [20.3527891, 63.8161159], [20.3528236, 63.8161757], [20.3528735, 63.8162514], [20.3529016, 63.8162573], [20.3529162, 63.8162891], [20.3529342, 63.8163615], [20.352968, 63.8164058], [20.3529725, 63.8164132], [20.3530017, 63.8164364], [20.3530077, 63.8164614], [20.3530114, 63.8165081], [20.3530272, 63.8165309], [20.3530451, 63.8165553], [20.3530429, 63.8165667], [20.3530148, 63.8165736], [20.3529923, 63.816591], [20.35299, 63.8166049], [20.352994, 63.8166177], [20.3530215, 63.8166495], [20.3530778, 63.816719], [20.353152, 63.8167984], [20.3532059, 63.8168435], [20.3532588, 63.8168797], [20.3533105, 63.8169069], [20.3533881, 63.8169274], [20.3534432, 63.8169308], [20.3534724, 63.8169403], [20.3534927, 63.8169586], [20.35355, 63.8169695], [20.353559, 63.8169815], [20.3535882, 63.8169919], [20.3536141, 63.8169874], [20.3536478, 63.8170013], [20.3537187, 63.8170033], [20.353758, 63.8170122], [20.3538356, 63.8170355], [20.3538778, 63.8170482], [20.3539245, 63.8170693], [20.3539548, 63.8170985], [20.353993, 63.8171295], [20.3551076, 63.817357], [20.3558421, 63.8176073], [20.3559098, 63.8178001], [20.3558099, 63.8178456], [20.3558065, 63.8178829], [20.35568, 63.8179709], [20.3561692, 63.8181651], [20.3569658, 63.818253], [20.3573273, 63.8183975], [20.3578512, 63.8188503], [20.3581663, 63.8190626], [20.3583163, 63.8192311], [20.3582277, 63.8196404], [20.3579753, 63.8199474], [20.3575933, 63.8202062], [20.3572932, 63.8202483], [20.3568418, 63.8202162], [20.3565008, 63.8202583], [20.3561392, 63.8204088], [20.3560437, 63.8207338], [20.3556686, 63.8213868], [20.3553, 63.8217279], [20.3552373, 63.8218053], [20.3550855, 63.8218924], [20.354921, 63.8219574], [20.3545974, 63.822045], [20.3542187, 63.8221495], [20.3541049, 63.822237], [20.3541196, 63.8222713], [20.3542046, 63.8222877], [20.3545082, 63.8222757], [20.3547215, 63.8223241], [20.3548601, 63.8224283], [20.3548524, 63.8226206], [20.3547503, 63.8227177], [20.3545125, 63.822985], [20.3543702, 63.8233781], [20.3540837, 63.8239182], [20.3539954, 63.8242974], [20.3538184, 63.824732], [20.3535928, 63.8248389], [20.3532271, 63.8248693], [20.3529632, 63.8248377], [20.3529198, 63.8249415], [20.3526156, 63.8250683], [20.3524404, 63.8252503], [20.3520796, 63.8254528], [20.3518142, 63.8256871], [20.351754, 63.8256857], [20.35137, 63.8256769], [20.3509936, 63.8256776], [20.3506007, 63.8255598], [20.3503895, 63.8254692], [20.3498426, 63.8253059], [20.3495055, 63.8250581], [20.3491419, 63.8247622], [20.3487248, 63.8248657], [20.3483806, 63.824976], [20.3481788, 63.8251701], [20.348062, 63.8254122], [20.3480179, 63.8255037], [20.3478429, 63.8257473], [20.3476603, 63.8258219], [20.3476379, 63.8259839], [20.3477463, 63.8262965], [20.3477611, 63.8264794], [20.3476925, 63.8266757], [20.3475676, 63.8269217], [20.3474454, 63.8272222], [20.3475724, 63.827394], [20.3475623, 63.8275317], [20.3474814, 63.827853], [20.3475296, 63.8286493], [20.3474599, 63.8290165], [20.3473651, 63.8293044], [20.3472598, 63.8295421], [20.3470161, 63.8299792], [20.3467369, 63.8299966], [20.3467348, 63.8300167], [20.3469094, 63.8300382], [20.3469043, 63.8301073], [20.346713, 63.8302555], [20.3464725, 63.8304174], [20.3462323, 63.830574], [20.3462893, 63.8307161], [20.3462175, 63.8308855], [20.3462589, 63.8311145], [20.3462017, 63.8314971], [20.346023, 63.83183], [20.3458841, 63.8322573], [20.3458915, 63.8327637], [20.3458927, 63.8328448], [20.3458581, 63.8331618], [20.3458234, 63.8334062], [20.3456186, 63.8342441], [20.3454763, 63.8344916], [20.3451896, 63.8348304], [20.3448037, 63.835005], [20.3447663, 63.8350864], [20.3447517, 63.835202], [20.3443077, 63.8355807], [20.3441198, 63.8356235], [20.3440041, 63.8356163], [20.3439631, 63.8356409], [20.3439331, 63.8356607], [20.3439128, 63.83569], [20.3439381, 63.8357232], [20.3439492, 63.8357491], [20.3439614, 63.8357946], [20.3438865, 63.8358101], [20.3438069, 63.8357765], [20.3437355, 63.8358419], [20.3436739, 63.8358655], [20.3436059, 63.8359292], [20.3434042, 63.8360359], [20.3432241, 63.8360685], [20.3430737, 63.8360428], [20.3424944, 63.8361509], [20.3425198, 63.8361983], [20.3418006, 63.8362735], [20.3411333, 63.8362741], [20.3391758, 63.8362268], [20.33844, 63.8361461], [20.3384137, 63.8360675], [20.3374295, 63.8358492], [20.3373067, 63.8357185], [20.3371592, 63.8354062], [20.3367227, 63.8347059], [20.3366126, 63.8341686], [20.3364874, 63.8339994], [20.336318, 63.8337835], [20.336299, 63.8335695], [20.3362952, 63.8335271], [20.3362888, 63.8334547], [20.3364065, 63.8332073], [20.3365827, 63.8331349], [20.3364592, 63.8329851], [20.3362337, 63.8328672], [20.3352699, 63.8320973], [20.3352406, 63.8317536], [20.3345262, 63.8311313], [20.3338236, 63.8304039], [20.3334973, 63.8298454], [20.3332636, 63.8297659], [20.3331952, 63.829635], [20.3328759, 63.8291362], [20.332529, 63.8284073]], [[20.3354646, 63.8286486], [20.3355251, 63.8286575], [20.3355712, 63.8286664], [20.3355913, 63.8286423], [20.3355683, 63.8286169], [20.3355078, 63.8286233], [20.3354646, 63.8286486]], [[20.3365085, 63.8288203], [20.3365167, 63.8288409], [20.3365492, 63.8288481], [20.3365655, 63.8288454], [20.3365757, 63.8288329], [20.3365574, 63.8288194], [20.336533, 63.8288176], [20.3365085, 63.8288203]], [[20.336545, 63.828861], [20.3365622, 63.8289068], [20.3365737, 63.8289334], [20.3366486, 63.8289372], [20.336735, 63.828955], [20.3367753, 63.8289245], [20.3367925, 63.8288788], [20.3367753, 63.828861], [20.3366716, 63.828856], [20.33664, 63.8288623], [20.336545, 63.828861]], [[20.3495854, 63.8238579], [20.3496017, 63.8239028], [20.3496791, 63.8239352], [20.3497971, 63.8239495], [20.3499641, 63.8239621], [20.3500292, 63.823998], [20.3501147, 63.8240268], [20.3502531, 63.8240339], [20.3502328, 63.824007], [20.3501106, 63.8239819], [20.3500292, 63.8239585], [20.3499681, 63.8239118], [20.3498908, 63.8238543], [20.3498053, 63.823822], [20.3497198, 63.8238076], [20.3496506, 63.8238166], [20.3495854, 63.8238579]]]}}]}
#data = {}

# This is just if data is empty because we want to use other locations
if not data:
    response = requests.get(urlString)
    if response.status_code == 200:
        # everything went well
        data = response.json()
        print("Everything went well, retrieving data.")

    else:
        print("Requests failed with error code:", response.status_code)
        print(response.text)

else:
    print("Using cached data.")
    
#print(data["features"])

# # komplizierter Weg die Daten rauszusuchen!!!
# features = data["features"] #dict
# geometry = features[-1] #liste
# coords_list = geometry["geometry"]
# coords = coords_list["coordinates"]
# coords_paula = coords[0] # before it's still a list of a list'

# und die Lösung:
coords = data["features"][-1]["geometry"]["coordinates"][0] #--> if error too many values then add [0]

#print(coords)

nydalasjon = HPolygon.fromCoords(coords)

# Define transformmation
crsHelper = HCrs()
crsHelper.from_srid(4326)
crsHelper.to_srid(3857)


nydalasjon_transformed = crsHelper.transform(nydalasjon)



## CANVAS
canvas = HMapCanvas.new()

# Load osm base map
osm = HMap.get_osm_layer()
canvas.set_layers([osm])

canvas.add_geometry(nydalasjon_transformed,"red",1)


canvas.set_extent(nydalasjon_transformed.bbox())

canvas.show()





